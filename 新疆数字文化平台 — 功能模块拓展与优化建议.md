# 新疆数字文化平台 · Tasks

## 阶段 1：新疆特色与核心体验（Week 1-2）

### 1. 非遗专题 MVP
- 需求文档：确认字段（id, title, region, category, images, description, videoUrl, heritageLevel）、导航入口、首页展示位
- 后端
  - 新增实体 `HeritageItem` + CRUD 服务
  - 扩展 `/culture/search` 支持非遗
  - 设计 `GET /heritage/recommend` 接口
- 前端
  - 页面 `views/Heritage.vue`（筛选、分页、卡片展示）
  - 页面 `views/HeritageDetail.vue`（图文/视频信息）
  - 首页模块“非遗推荐”调用推荐接口
  - 导航栏增加“非遗”入口（含移动端适配）

### 2. 地图增强
- Map 组件新增四类过滤（景区/遗址/博物馆/非遗点）
- 点聚合 cluster（大量 POI 性能测试）
- 路线按天播放（时间轴控制 + 动画）
- 编写交互与容错测试用例

### 3. Profile 基础升级
- `Profile.vue` 接入等级/勋章占位 mock 数据
- 设计 `LevelProgress` UI（静态版本）
- 调整用户面板布局，预留成长体系入口

---

## 阶段 2：AI 与活动系统（Week 3-4）

### 4. AI 文化讲解助手
- 后端：`POST /api/ai/explain`（支持文本 + 图片 URL，含速率/异常处理）
- 统一封装 AI Provider（OpenAI/DeepSeek）和超时/缓存策略
- 前端：`views/AiExplain.vue`（输入、上传、结果、loading/失败/历史记录）

### 5. 推荐流 MVP
- 算法：标签 + 用户行为（收藏/浏览）简单权重
- 后端：`GET /recommendations` 接口（支持类型参数）
- 前端：首页/资讯页推荐模块 + 空数据占位

### 6. 活动日历与签到
- 组件 `ActivityCalendar.vue`：月视图、类型颜色标签、点击查看
- 后端接口：日历数据（按月）、活动详情
- 签到方案：二维码生成/验证流程设计稿 + API 规范草案
- 落地计划：先上线月视图，签到接口进入下一阶段开发

---


### 9. 后台路线分析
- 管理端新增仪表盘：路线主题统计、预算/天数偏好、Top10 热力图
- 数据接口：聚合统计、热力图数据
- 热力图实现方案（Mapbox/AMap 可选）与降级策略

### 10. AI/AR 拓展入口
- 设计 AR/3D 入口页 + mock 数据
- 3D 场景（天山/喀什示例）可用 three.js + Mapbox 轻量实现
- 文案：介绍扩展方向与未来规划

---

## 支撑与测试

### 11. 数据迁移与脚本
- 所有新增字段/表的迁移脚本及回滚方案
- 预先评估历史数据清洗/默认值

### 12. 性能与 PWA
- 关键 API 缓存策略（Redis/内存）
- 前端图片 lazy-load、骨架屏
- 评估 `vite-plugin-pwa` 接入与离线缓存范围

### 13. 测试与文档
- 接口测试：AI、推荐、非遗、成长体系
- E2E 场景：导航 → 非遗 → AI → 活动 → Profile
- 更新 README / API 规格 / cursor_tasks.md，确保每个功能可独立交付
